# k8s的存储类型

```
emptyDir类型的volume在pod分配到node上时被创建，kubernetes会在node上自动分配 一个目录，因此无需指定宿主机node上对应的目录文件。这个目录的初始内容为空，当Pod从node上移除时，emptyDir中的数据会被永久删除。
hostPath Volume为pod挂载宿主机上的目录或文件

PV分为静态和动态，动态能够自动创建PV
• PersistentVolumeClaim（PVC）：让用户不需要关心具体的Volume实现细节
PV是提供者，PVC是消费者，消费的过程就是绑定

客户端会话需要保持的应用场景中，应设置负载为会话保持模式
影子部署

使用hpa，设置pod的cpu使用率到达多少的时候进行自动的扩缩容，但是频繁的扩缩容会造成不稳定
应用在部署前应该想好应用的日志管理，监控管理

```

> 有状态服务，petset重启之后要求ip不变，id不变，1.5版本之后petset改名为statefulset
